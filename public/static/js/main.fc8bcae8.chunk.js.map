{"version":3,"sources":["images/logo.svg","components/Header/Header.js","contexts/CurrentUserContext.js","components/Card/Card.js","images/edit.svg","images/+.svg","components/Main/Main.js","components/Footer/Footer.js","components/PopupWithForm/PopupWithForm.js","components/EditProfilePopup/EditProfilePopup.js","components/EditAvatarPopup/EditAvatarPopup.js","components/AddPlacePopup/AddPlacePopup.js","components/ImagePopup/ImagePopup.js","utils/api.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","onCardClick","card","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","onClick","link","name","type","length","_","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","edit","about","add","map","Footer","PopupWithForm","isOpen","title","children","buttonText","onClose","onSubmit","noValidate","EditProfilePopup","onUpdateUser","useEffect","setName","setDescription","useState","description","e","preventDefault","id","placeholder","required","minLength","maxLength","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","role","AddPlacePopup","setLink","ImagePopup","api","options","this","_headers","headers","_url","baseUrl","Promise","all","getUserInfo","getCards","res","ok","json","reject","status","data","fetch","method","body","JSON","stringify","then","_handleResponse","deleteLike","addLike","authorization","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isImagePopupOpen","setImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getInitialData","userData","cardsData","err","console","log","Provider","changeLikeCardStatus","newCard","newCards","currentCard","deleteCard","filter","elem","setUserInfo","setUserAvatar","postCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fc8bcae8.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import React from 'react';\r\nimport logo from '../../images/logo.svg';\r\n\r\nfunction Header(){\r\n    return(\r\n        <header className=\"header\">\r\n            <img className=\"header__logo\" src={logo} alt=\"Логотип\" />\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\n\r\nfunction Card({onCardClick, card, onCardLike, onCardDelete}){\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n  const cardDeleteButtonClassName = `${isOwn ? 'element__trash .element__trash_on' : 'element__trash element__trash_none'}`;\r\n\r\n  const cardLikeButtonClassName = `${isLiked ? 'element__like element__like_on' : 'element__like'}`;\r\n    \r\n    function handleCardClick(){\r\n      onCardClick(card)\r\n    }\r\n\r\n    function handleLikeClick(){\r\n      onCardLike(card);\r\n    }\r\n\r\n    function handleDeleteClick(){\r\n      onCardDelete(card);\r\n    }//??\r\n\r\n\r\n    return(   \r\n      <li className=\"element\">\r\n        <img className=\"element__photo\" onClick={handleCardClick} src={card.link} alt={card.name} />\r\n        <button className={cardDeleteButtonClassName} onClick={handleDeleteClick} type=\"button\" />\r\n        <div className=\"element__box\">\r\n          <p className=\"element__caption\">{card.name}</p>\r\n          <div className=\"element__like-box\">\r\n            <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\" />\r\n            <p className=\"element__count\">{card.likes.length}</p>\r\n          </div>\r\n        </div>\r\n      </li>\r\n    )\r\n}\r\n\r\nexport default Card","export default __webpack_public_path__ + \"static/media/edit.6c7bf054.svg\";","export default __webpack_public_path__ + \"static/media/+.bed8c136.svg\";","import React from 'react';\r\nimport Card from '../Card/Card';\r\nimport edit from '../../images/edit.svg';\r\nimport add from '../../images/+.svg';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\n\r\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardDelete, cards, onCardLike}){\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return(\r\n        <main className=\"content\">\r\n            <section className=\"profile\">\r\n              <div className=\"profile__avatar-box\">\r\n                <img className=\"profile__avatar\" alt={currentUser.name} src={currentUser.avatar} />\r\n                <button className=\"profile__img-avatar\" onClick={onEditAvatar}/>\r\n              </div>\r\n              <div className=\"profile__info\">\r\n                <div className=\"profile__box\">\r\n                    <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                    <button className=\"profile__edit\" type=\"button\" onClick={onEditProfile}>\r\n                      <img className=\"profile__img-edit\" src={edit} alt=\"Изменить\" />\r\n                    </button>\r\n                </div>\r\n                <p className=\"profile__description\">{currentUser.about}</p>\r\n              </div>\r\n              <button className=\"profile__button\" type=\"button\" onClick={onAddPlace}>\r\n                <img className=\"profile__img-button\" src={add} alt=\"Добавить фото\" />\r\n              </button>\r\n            </section>\r\n            <section className=\"elements\">\r\n              <ul className=\"elements__box\">\r\n                {cards.map(card =>\r\n                  <Card \r\n                    key={card._id}\r\n                    card={card}\r\n                    onCardClick={onCardClick} \r\n                    onCardLike={onCardLike}\r\n                    onCardDelete={onCardDelete}\r\n                  />\r\n                )}  \r\n              </ul>\r\n            </section>\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Main","import React from 'react';\r\n\r\nfunction Footer(){\r\n    return(\r\n        <footer className=\"footer\">\r\n          <p className=\"footer__text\">© 2020 Mesto Russia</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","import React from 'react';\r\n\r\nfunction PopupWithForm({name, isOpen, title, children, buttonText, onClose, onSubmit}){\r\n    return(\r\n        <section className={`popup popup-${name} ${isOpen ? 'popup_opened' : ''}`}>\r\n          <div className=\"popup__container\">\r\n            <h2 className=\"popup__title\">{title}</h2>\r\n            <form className=\"popup__form\" name={name} noValidate onSubmit={onSubmit}>\r\n              <fieldset className=\"popup__content\">\r\n                {children}\r\n                <button className=\"popup__button popup__save-button\" type=\"submit\">{buttonText}</button>\r\n              </fieldset>\r\n            </form>\r\n            <button className=\"popup__close\" type=\"button\" onClick={onClose} />\r\n          </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm","import React from 'react';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup({onUpdateUser, isOpen, onClose}) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    React.useEffect(() => {\r\n      setName(currentUser.name);\r\n      setDescription(currentUser.about);\r\n    }, [currentUser]);//??\r\n\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n\r\n    function handleChangeName(e){\r\n      setName(e.target.value);\r\n    }      \r\n\r\n    function handleChangeDescription(e){\r\n      setDescription(e.target.value);\r\n    }\r\n    \r\n    function handleSubmit(e) {\r\n       e.preventDefault();\r\n       onUpdateUser({\r\n         name: name,\r\n         about: description,\r\n       });\r\n    } \r\n\r\n    return(\r\n      <PopupWithForm \r\n        name='profile'\r\n        title='Редактировать профиль'\r\n        buttonText='Сохранить'\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <input className=\"popup__item popup__item_name\" id='name-input' name=\"name\" type=\"text\" placeholder=\"Имя\" required minLength=\"2\" maxLength=\"40\" value={name || ''} onChange={handleChangeName} />\r\n        <span id='name-input-error' className='popup__item-error' />\r\n        <input className=\"popup__item popup__item_description\" id='description-input' name=\"about\" type=\"text\" placeholder=\"О себе\" required minLength=\"2\" maxLength=\"200\" value={description || ''} onChange={handleChangeDescription} />\r\n        <span id='description-input-error' className='popup__item-error' />\r\n      </PopupWithForm>\r\n      \r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\r\n\r\nfunction EditAvatarPopup({onUpdateAvatar, isOpen, onClose}){\r\n  const avatarRef = React.useRef('');\r\n      \r\n  function handleSubmit(e) {\r\n      e.preventDefault();\r\n      onUpdateAvatar({\r\n        avatar: avatarRef.current.value\r\n      });\r\n  } \r\n\r\n  return(\r\n    <PopupWithForm \r\n    name='avatar'\r\n    title='Обновить аватар'\r\n    buttonText='Сохранить'\r\n    isOpen={isOpen}\r\n    onClose={onClose}\r\n    onSubmit={handleSubmit}\r\n  >\r\n        <input className=\"popup__item popup__item_avatar\" id='avatar-input' name=\"avatar\" type=\"url\" placeholder=\"Ссылка на аватар\" required ref={avatarRef} />\r\n        <span id='avatar-input-error' className='popup__item-error' role=\"status\" />\r\n  </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\r\n\r\nfunction AddPlacePopup({onAddPlace, isOpen, onClose}){\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function handleChangeName(e){\r\n      setName(e.target.value);\r\n  }      \r\n\r\n  function handleChangeLink(e){\r\n      setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n      e.preventDefault(e);\r\n      onAddPlace({\r\n        name: name,\r\n        link: link,\r\n      })\r\n  } \r\n\r\n  return(\r\n    <PopupWithForm \r\n        name='newcard'\r\n        title='Новое место'\r\n        buttonText='Создать'\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        onSubmit={handleSubmit}\r\n    >\r\n        <input className=\"popup__item popup__item_name-element\" id='name-element-input' name=\"name\" type=\"text\" placeholder=\"Название\" required minLength=\"2\" maxLength=\"30\" value={name} onChange={handleChangeName} />\r\n        <span id='name-element-input-error' className='popup__item-error' />\r\n        <input className=\"popup__item popup__item_link-element\" id='link-element-input' name=\"link\" type=\"url\" placeholder=\"Ссылка на картинку\" required value={link} onChange={handleChangeLink} />\r\n        <span id='link-element-input-error' className='popup__item-error' />    \r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\n\r\nfunction ImagePopup({card, onClose, isOpen}){\r\n    return(\r\n        <section className={`popup popup-image ${card && isOpen ? 'popup_opened' : ''}`}>\r\n          <div className=\"popup__window\">\r\n            <img className=\"popup__img\" src={`${card.link}`} alt={`${card.name}`} />\r\n            <p className=\"popup__caption\">{card.name}</p>\r\n            <button className=\"popup__close popup__close_image\" type=\"button\" onClick={onClose} />\r\n          </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default ImagePopup","class Api {\r\n    constructor(options) {\r\n      this._headers = options.headers;\r\n      this._url = options.baseUrl;\r\n    }; \r\n  \r\n    getInitialData() {\r\n      return Promise.all([this.getUserInfo(), this.getCards()]);\r\n    };\r\n  \r\n    _handleResponse(res){\r\n        if(!res.ok){\r\n            return Promise.reject(`Ошибка:${res.status}`);\r\n        }\r\n        return res.json();\r\n    };//ok\r\n\r\n    setUserAvatar(data){\r\n        return fetch(`${this._url}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: data.avatar\r\n            })\r\n        }).then(this._handleResponse)\r\n    };//ok\r\n\r\n    changeLikeCardStatus(id, isLiked){\r\n        if(isLiked){\r\n            return this.deleteLike(id);\r\n        }else{\r\n            return this.addLike(id);\r\n        }\r\n    }//??\r\n\r\n    deleteLike(id){\r\n        return fetch(`${this._url}/cards/likes/${id}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers,\r\n        }).then(this._handleResponse)\r\n    };\r\n\r\n    addLike(id){\r\n        return fetch(`${this._url}/cards/likes/${id}`, {\r\n            method: 'PUT',\r\n            headers: this._headers,\r\n        }).then(this._handleResponse)\r\n    };\r\n\r\n    deleteCard(id){\r\n        return fetch(`${this._url}/cards/${id}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers,\r\n        }).then(this._handleResponse)\r\n    };\r\n\r\n    postCard(data){\r\n        return fetch(`${this._url}/cards`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                link: data.link,\r\n            })\r\n        }).then(this._handleResponse)\r\n    };\r\n\r\n    setUserInfo(data){\r\n        return fetch(`${this._url}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                about: data.about,\r\n            })\r\n        }).then(this._handleResponse)\r\n    };\r\n\r\n    getCards(){\r\n        return fetch(`${this._url}/cards`, {\r\n            method: 'GET',\r\n            headers: this._headers\r\n          }).then(this._handleResponse)\r\n    };\r\n\r\n    getUserInfo(){\r\n        return fetch(`${this._url}/users/me`, {\r\n          method: 'GET',\r\n          headers: this._headers,\r\n        }).then(this._handleResponse)\r\n    };\r\n};\r\n\r\nconst api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-17',\r\n    headers: {\r\n      authorization: 'd558607e-48f8-4a90-b7e5-75f1fe753f5b',\r\n      'Content-Type': 'application/json'\r\n    }\r\n}); \r\n\r\nexport default api\r\n","import React from 'react';\nimport Header from '../Header/Header';\nimport Main from '../Main/Main';\nimport Footer from '../Footer/Footer';\nimport EditProfilePopup from '../EditProfilePopup/EditProfilePopup';\nimport EditAvatarPopup from '../EditAvatarPopup/EditAvatarPopup';\nimport AddPlacePopup from '../AddPlacePopup/AddPlacePopup';\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\nimport ImagePopup from '../ImagePopup/ImagePopup';\nimport api from '../../utils/api';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\n\nfunction App() {\n  const[isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const[isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const[isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const[isImagePopupOpen, setImagePopupOpen] = React.useState(false);\n  const[selectedCard, setSelectedCard] = React.useState({name: '', link: ''});\n  const[currentUser, setCurrentUser] = React.useState({});\n  const[cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api.getInitialData()\n      .then(\n        (data) => {\n          const [userData, cardsData] = data;\n          setCards(cardsData);\n          setCurrentUser(userData);\n        },\n        (err) => {\n          console.log(err);\n        }\n      )\n  }, [])\n\n  function handleAddPlaceSubmit(data){\n    api.postCard(data)\n      .then(\n        (newCard) => {\n          setCards([newCard, ...cards]);\n          closeAllPopups();\n        },\n        (err) => {\n          console.log(err);\n        }\n      )\n  }\n\n  function handleUpdateAvatar(data){\n    api.setUserAvatar(data)\n      .then(\n        (data) => {\n          setCurrentUser(data);\n          closeAllPopups();\n        },\n        (err) => {\n          console.log(err);\n        }\n      )\n  }\n\n  function handleEditProfilePopupOpen(){\n    setEditProfilePopupOpen(!isEditProfilePopupOpen)\n  }\n\n  function handleAddPlacePopupOpen(){\n    setAddPlacePopupOpen(!isAddPlacePopupOpen)\n  }\n\n  function handleEditAvatarPopupOpen(){\n    setEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  }\n\n  function handleCardClick(card){\n    setSelectedCard(card)\n    setImagePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setImagePopupOpen(false);\n    setSelectedCard({name: '', link: ''})\n  }\n\n  function handleUpdateUser(data) {\n    api.setUserInfo(data)\n      .then(\n        (data) => {\n          setCurrentUser(data);\n          closeAllPopups();\n        },\n        (err) => {\n          console.log(err);\n        }\n      )\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then(\n        () => {\n          const newCards = cards.filter((elem) => elem !== card);\n          setCards(newCards);\n          //closeAllPopups();\n        },\n        (err) => {\n          console.log(err);\n        }\n      )\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, isLiked)\n      .then(\n        (newCard) => {\n          const newCards = cards.map((currentCard) => currentCard._id === card._id ? newCard : currentCard)\n          setCards(newCards);\n        },\n        (err) => {\n          console.log(err);\n        }\n      )\n  }\n\n  return (\n    <CurrentUserContext.Provider value = {currentUser}>\n    <div className='page'>\n      <Header />\n      <Main\n        cards={cards}\n        onCardLike={handleCardLike}\n        onCardDelete={handleCardDelete}\n        onEditAvatar={handleEditAvatarPopupOpen}\n        onEditProfile={handleEditProfilePopupOpen}\n        onAddPlace={handleAddPlacePopupOpen}\n        onCardClick={handleCardClick} \n      />\n      <Footer />\n      <EditProfilePopup\n        isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n      />\n      <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n      />\n      <AddPlacePopup\n        isOpen={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n        onAddPlace={handleAddPlaceSubmit}\n      />\n      <PopupWithForm \n        name='delete'\n        title='Вы уверены?'\n        buttonText='Да'\n      />\n      \n      <ImagePopup \n        card={selectedCard}\n        onClose={closeAllPopups}\n        isOpen={isImagePopupOpen}\n      />\n    </div>\n    </CurrentUserContext.Provider>\n  );\n};\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}